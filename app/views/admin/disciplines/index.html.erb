<div class="uk-section">
  <div class="uk-container">
    <div class="uk-margin uk-text-right">
      <%= link_to 'Adicionar', new_admin_discipline_path, class: 'uk-button uk-button-primary' %>
    </div>

    <% flash.each do |_, notification| %>
      <div class="uk-margin-top">
        <div class="uk-alert uk-alert-success uk-text-center">
          <%= notification %>
        </div>
      </div>
    <% end %>

    <div class="uk-card uk-card-secondary uk-card-body">
      <table class="uk-table uk-table-middle uk-table-divider" id="disciplines">
        <thead>
          <tr>
            <th>TÃ­tulo</th>
            <th>Turmas vinculadas</th>
            <th>Total de alunos</th>
            <th>Disponibilizado em</th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          <% @disciplines.each do |discipline| %>
            <tr class="discipline">
              <th>
                <%= discipline.title %>
              </th>
              <th>
                <% discipline.teams.each do |team| %>
                  <span class="uk-label">
                    <%= team.name %>
                  </span>
                <% end %>
              </th>
              <th >
                <%= discipline.users.count %>
              </th>
              <th >
                <%= I18n.l(discipline.available_on, format: :short) %>
              </th>
              <th>
                <%= link_to '', admin_discipline_path(discipline), class: 'uk-icon-button',
                            data: { uk_icon: "eye" }, title: discipline.title %>
                <%= link_to '', edit_admin_discipline_path(discipline), class: 'uk-icon-button',
                            data: { uk_icon: "pencil" }, title: 'Editar' %>
              </th>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  </div>
</div>
